<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retour Paiement</title>
<link rel="stylesheet" href="../css/theme_client.css">
</head>

<body>

<div class="box" style="text-align:center; padding:20px;">

    <h2 id="titre"></h2>
    <p id="message"></p>

    <div id="actions"></div>

</div>

<script>
// =====================================================
// Lecture des param√®tres de Stripe
// =====================================================

const params = new URLSearchParams(location.search);

const status = params.get("status");
const type = params.get("type");
const amount = params.get("amount");

// El√©ments HTML
const titre   = document.getElementById("titre");
const message = document.getElementById("message");
const actions = document.getElementById("actions");


// =====================================================
// Paiement r√©ussi
// =====================================================

if (status === "success") {

    titre.textContent = "üéâ Paiement r√©ussi !";
    message.innerHTML =
        "Votre paiement de <strong>" + amount + " ‚Ç¨</strong> a bien √©t√© accept√©.<br>" +
        "Merci pour votre confiance.";

    actions.innerHTML = `
        <p>Vous allez √™tre redirig√© automatiquement...</p>
    `;

    // redirection automatique vers confirmation.html
    setTimeout(() => {
        window.location.href = "confirmation.html?type=" + type + "&amount=" + amount;
    }, 3000);
}


// =====================================================
// Paiement annul√©
// =====================================================

else {

    titre.textContent = "‚ö†Ô∏è Paiement annul√©";
    message.innerHTML =
        "Votre paiement n‚Äôa pas pu √™tre finalis√©.";

    actions.innerHTML = `
        <button onclick="history.back()">R√©essayer</button>
        <a href="../index.html">
            <button style="margin-top:10px;">Retour √† l‚Äôaccueil</button>
        </a>
    `;
}

</script>

</body>
</html>

